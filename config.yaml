# Security Scanner Configuration
# This file contains the main configuration for the security scanner application.
# Copy this file and modify according to your environment.

# Application Environment
environment: development  # development, staging, production
debug: false

# Packages Feed Configuration
packages_feed:
  type: osv  # Currently only 'osv' is supported
  enabled: true
  config:
    timeout_seconds: 30
    max_retries: 3
    retry_delay: 1.0

# Package Registry Configuration
packages_registry:
  type: jfrog  # Currently only 'jfrog' is supported
  enabled: false  # Disabled by default to avoid requiring credentials
  config:
    timeout_seconds: 30
    max_retries: 3
    retry_delay: 1.0
    # Repository discovery configuration
    repository_discovery:
      enabled: true
      cache_ttl_seconds: 3600  # Cache repository mappings for 1 hour
      # Manual repository overrides for specific ecosystems
      # This avoids API calls for repository discovery if you know the repo names
      ecosystem_overrides:
        # npm: "npmjs-virtual"
        # PyPI: "python-packages"
        # Maven: "maven-central"
        # Go: "go-proxy"
        # NuGet: "nuget-packages"
        # RubyGems: "gems-proxy"
        # crates.io: "cargo-remote"

# Notification Service Configuration
notification_service:
  type: "null"  # Options: null, msteams, webhook, composite (for future implementations)
  enabled: false  # Disabled by default - enable when you have configured notification providers
  channels: []
  config:
    timeout_seconds: 30
    max_retries: 3
    retry_delay: 1.0

    # MS Teams webhook configuration (when type: msteams)
    # webhook_url can be set here or via MSTEAMS_WEBHOOK_URL environment variable
    # webhook_url: "https://outlook.office365.com/webhook/your-webhook-url"

    # Generic webhook configuration (when type: webhook)
    # webhook_url can be set here or via WEBHOOK_URL environment variable
    # webhook_url: "https://webhook.com/WEBHOOK"
    # custom_headers:
    #   Authorization: "Bearer YOUR_TOKEN"
    #   X-Custom-Header: "value"

# Storage Service Configuration
storage_service:
  type: database  # Options: memory, file, database/sqlite
  enabled: true
  config:
    # For memory storage (default for integration tests and local development):
    max_scan_results: 1000
    clear_on_init: false

    # For file storage (each scan result saved as individual JSON file):
    # data_directory: "scan_results"

    # For database storage:
    database_path: "data/security_scanner.db"

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file_path: null  # Set to a file path to enable file logging
  max_file_size_mb: 10
  backup_count: 5
